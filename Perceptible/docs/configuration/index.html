<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Configuration · Perceptible</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## threshold"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Configuration · Perceptible"/><meta property="og:type" content="website"/><meta property="og:url" content="https://anubhavsrivastava.github.io/"/><meta property="og:description" content="## threshold"/><meta property="og:image" content="https://anubhavsrivastava.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://anubhavsrivastava.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://anubhavsrivastava.github.io/blog/atom.xml" title="Perceptible Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://anubhavsrivastava.github.io/blog/feed.xml" title="Perceptible Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><h2 class="headerTitle">Perceptible</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/main" target="_self">Docs</a></li><li class=""><a href="/docs/examplemain" target="_self">Examples</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Release</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Usage</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Starter</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/main">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/basicsample">Basic Sample</a></li><li class="navListItem"><a class="navItem" href="/docs/perceptor">Perceptor</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Usage</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/defaultconfig">Default Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/configlevel">Configuration Hierarchy</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Advance Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/architecture">Overall Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/spectators">Spectators</a></li><li class="navListItem"><a class="navItem" href="/docs/subscribers">Subscribers</a></li><li class="navListItem"><a class="navItem" href="/docs/schedulers">Schedulers</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Configuration</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="threshold"></a><a href="#threshold" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>threshold</h2>
<p><code>type: number</code></p>
<p><code>default: 100</code></p>
<p>This denotes the threshold (in percentage) of surface area that an Element is considered to be visible.
For instance</p>
<ul>
<li>a. if threshold is 100, &amp; if 100% of the Element is visible, it will be considered as visible.</li>
<li>b. if threshold is 20, &amp; percentage element visibility &gt;20 , it will be considered as visible.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="scheduler"></a><a href="#scheduler" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>scheduler</h2>
<p><code>type: object</code></p>
<p>Below configuration are applicable to scheduler. Some of the configuration may only be applicable to certain <code>mode</code>. Currently only <code>interval</code> type of mode is supported.</p>
<h3><a class="anchor" aria-hidden="true" id="mode"></a><a href="#mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mode</h3>
<p><code>type: string</code></p>
<p><code>default: 'interval'</code></p>
<p><code>possible values: interval, scroll, raf, observer</code></p>
<p>Mode decides what kind of scheduler has to be used. Scheduler is mechanism by which viewability of element is calculated at regular interval/event/user activity.</p>
<ul>
<li><p><code>interval</code> - In this mode, the scheduler will trigger the spectators after every 'n' ms (specified in interval option)</p></li>
<li><p><code>raf</code> - In this mode, the scheduler will trigger the spectators by using requestAnimationFrame cycles of the browser.</p></li>
<li><p><code>scroll</code> - In this mode, the scheduler will trigger the spectators only if there is user event in form of 'scroll', 'resize', 'zoom'</p></li>
<li><p><code>observer</code> - In this mode, Observer API are used to trigger the spectators.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="interval"></a><a href="#interval" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>interval</h3>
<p><code>type: number (time in ms)</code></p>
<p><code>default: 500</code></p>
<p>This is interval after which 'interval' type of scheduler will trigger the spectators. A value of 500 means that, after every 500ms viewability would be calculated.</p>
<h3><a class="anchor" aria-hidden="true" id="attentionmode"></a><a href="#attentionmode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>attentionMode</h3>
<p><code>type: boolean</code></p>
<p><code>default: true</code></p>
<p>Mode to disable Perceptor (schedulers), if browser is not in focus (although visible on the screen). This may occur when the browser is on visible on screen but the focus is on other app. You may want to disable this mode, if element under observation is video/audio/slideshow element and continues to run even if browser focus is lost.</p>
<h2><a class="anchor" aria-hidden="true" id="viewoffset"></a><a href="#viewoffset" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>viewOffset</h2>
<p><code>type: object</code></p>
<p>By default, visibility of element is based on viewport of the browser. This configuration helps in making the viewport for detection shorter from the edges. In case of site with fixed header, or sidebar, or sticky footer, these setting can be used to accurately calculate visibility of the element. In such cases the element may be detected as visible but is hidden under edge elements, say fixed header; and these offset values must be used to accurately calculate the visibility.</p>
<h3><a class="anchor" aria-hidden="true" id="top"></a><a href="#top" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>top</h3>
<p><code>type: number (in px)</code></p>
<p><code>default: true</code></p>
<p>The top offset of the viewport</p>
<h3><a class="anchor" aria-hidden="true" id="left"></a><a href="#left" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>left</h3>
<p><code>type: number (in px)</code></p>
<p><code>default: true</code></p>
<p>The left offset of the viewport</p>
<h3><a class="anchor" aria-hidden="true" id="right"></a><a href="#right" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>right</h3>
<p><code>type: number (in px)</code></p>
<p><code>default: true</code></p>
<p>The right offset of the viewport</p>
<h3><a class="anchor" aria-hidden="true" id="bottom"></a><a href="#bottom" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>bottom</h3>
<p><code>type: number (in px)</code></p>
<p><code>default: true</code></p>
<p>The bottom offset of the viewport</p>
<h2><a class="anchor" aria-hidden="true" id="subscribers"></a><a href="#subscribers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>subscribers</h2>
<p><code>type: Array &lt;function&gt;</code></p>
<p><code>default: []</code></p>
<p>In addition to default subscribers, one can add list of additional subscribers who would be part of subscriberChain of that particular Perceptor instance. Each subscriber function is called be the scheduler to be notified about the result of SpectatorChain on the element.</p>
<h2><a class="anchor" aria-hidden="true" id="spectators"></a><a href="#spectators" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>spectators</h2>
<p><code>type: Array &lt;function&gt;</code></p>
<p><code>default: []</code></p>
<p>In addition to default spectators to calculate the viewability/visibility of the element, one can add list of additional spectators who would be part of spectatorChain to calculate the visibililty. For example <code>isVisible</code> property of the spectatorResult can be over-written on certain scenarios to report visibility of custom element correctly.</p>
<h2><a class="anchor" aria-hidden="true" id="clickhandler"></a><a href="#clickhandler" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>clickHandler</h2>
<p><code>type: function</code></p>
<p><code>default: noop () =&gt; {}</code></p>
<p>A function that would be triggered with the context of current perceptor instance on 'click' event over the DOM element.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-7-20 by Anubhav Srivastava</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/perceptor"><span class="arrow-prev">← </span><span>Perceptor</span></a><a class="docs-next button" href="/docs/defaultconfig"><span>Default Configuration</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#threshold">threshold</a></li><li><a href="#scheduler">scheduler</a><ul class="toc-headings"><li><a href="#mode">mode</a></li><li><a href="#interval">interval</a></li><li><a href="#attentionmode">attentionMode</a></li></ul></li><li><a href="#viewoffset">viewOffset</a><ul class="toc-headings"><li><a href="#top">top</a></li><li><a href="#left">left</a></li><li><a href="#right">right</a></li><li><a href="#bottom">bottom</a></li></ul></li><li><a href="#subscribers">subscribers</a></li><li><a href="#spectators">spectators</a></li><li><a href="#clickhandler">clickHandler</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.png" alt="Perceptible" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/main">Getting Started </a><a href="/docs/configuration">Configuration and Usage </a><a href="/docs/architecture">Advance Guide</a></div><div><h5>Social</h5><a href="https://twitter.com/onlyanubhav" target="_blank" rel="noreferrer noopener">Twitter</a><a href="mailto:anubhav.srivastava00@gmail.com">Email</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/anubhavsrivastava/perceptible" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Perceptible</section></footer></div></body></html>